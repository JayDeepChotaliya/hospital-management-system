<section class="page">
  <h2>Update Appointment Status</h2>

  <form [formGroup]="form" (ngSubmit)="submit()" novalidate>
    <!-- Status -->
    <div class="form-group">
      <label>Status *</label>
      <select formControlName="status">
        <option value="">-- Select Status --</option>
        <option *ngFor="let s of statuses" [value]="s">
          {{ s }}
        </option>
      </select>

      <div class="error" *ngIf="form.get('status')?.touched && form.get('status')?.invalid">
        Status is required
      </div>
    </div>

    <!-- Backend Error -->
    <div class="error" *ngIf="error">
      {{ error }}
    </div>

    <!-- Actions -->
    <div class="actions">
      <button type="submit" [disabled]="form.invalid || loading">
        {{ loading ? 'Updating...' : 'Update Status' }}
      </button>

      <button type="button" class="secondary" (click)="cancel()">Cancel</button>
    </div>
  </form>
</section>
